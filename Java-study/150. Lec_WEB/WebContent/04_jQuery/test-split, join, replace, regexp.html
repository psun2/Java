<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>split, join, replace, regexp</title>
  </head>
  <body>
    <h1>split, join, replace, regexp</h1>
    <br />

    <div class="str">안녕 !@# 하 se u.</div>
    <br />

    <div class="result"></div>
    <br />
  </body>
  <script>
    const str = document.querySelector('.str').innerText;
    const result = document.querySelector('.result');

    const splitFunction = () => {
      const div = document.createElement('div');
      const br = document.createElement('br');
      const word = str.split(' ');
      div.innerHTML = `split: ${word} -> 배열 형태 출력`;
      result.appendChild(div);
      result.appendChild(br);
    };

    const joinFunction = () => {
      const div = document.createElement('div');
      const br = document.createElement('br');
      const word = str.split(' ').join('');
      div.innerText = `join: ${word}`;
      result.appendChild(div);
      result.appendChild(br);
    };

    const replaceFunction = () => {
      const div = document.createElement('div');
      const br = document.createElement('br');
      const reg = / /g;
      const word = str.replace(reg, '');
      div.innerText = `replace: ${word}`;
      result.appendChild(div);
      result.appendChild(br);
    };

    const regexpFunction = () => {
      const br = document.createElement('br');
      const sqlArray = new Array(
        //sql 예약어
        'OR',
        'SELECT',
        'INSERT',
        'DELETE',
        'UPDATE',
        'CREATE',
        'DROP',
        'EXEC',
        'UNION',
        'FETCH',
        'DECLARE',
        'TRUNCATE',
      );
      let regexp = null;
      sqlArray.forEach((index) => {
        regexp = new RegExp(index, 'gi');
        const div = document.createElement('div');
        div.innerText = `new RegExp: (${regexp}).test(str)`;
        result.appendChild(div);
      });
      const word = str.replace(reg, '');
      result.appendChild(br);
    };

    const init = () => {
      splitFunction();
      joinFunction();
      replaceFunction();
      regexpFunction();
    };
    init();
  </script>
</html>
